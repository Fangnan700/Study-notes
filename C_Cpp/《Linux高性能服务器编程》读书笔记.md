# 第1章 TCP/IP协议族

## 1.1 TCP/IP协议族体系结构以及主要协议

TCP/IP协议族是一个分层、多协议的通信体系。

TCP/IP协议族是一个四层协议系统，自底而上分别是：

- 数据链路层
- 网络层
- 传输层
- 应用层

![image-20221103193012772](https://yvling-typora-image-1257337367.cos.ap-nanjing.myqcloud.com/typora/image-20221103193012772.png)

### 1.1.1 数据链路层

数据链路层实现了网卡接口的网络驱动程序，以处理数据在物理媒介（比如以太网、令牌环等）上的传输，为上层协议提供一个统一的接口。

**数据链路层两个常用的协议**

- ARP(Address Resolve Protocol，地址解析协议）
- RARP(Reverse Address Resolve Protocol，逆地址解析协议)

这两个协议实现了IP地址和机器物理地址（通常是MAC地址）之间的相互转换。



### 1.1.2 网络层

网络层实现数据包的选路和转发。

WAN（广域网）通过多级路由器连接主机和LAN（局域网），网络层的作用就是选择合适的中间节点（路由器）来确定某两台主机的通信路径。

网络层的核心是IP协议，IP协议根据数据包的目的IP地址来决定如何投递它——逐跳法。

网络层的另一重要协议是ICMP协议，它是IP协议的补充。



### 1.1.3 传输层

传输层为两台主机上的应用程序提供端到端的通信。这与网络层的逐跳法不同，传输层只关心通信的起始端和目的端，而不在乎数据包的中转过程。

传输层和网络层的区别：

![image-20221103204142101](https://yvling-typora-image-1257337367.cos.ap-nanjing.myqcloud.com/typora/image-20221103204142101.png)

传输层协议主要有三个：

- TCP协议
- UDP协议
- SCTP协议



**TCP协议**

TCP（传输控制协议）为应用层提供可靠的、面向连接的和基于流的服务。在发送数据前，通信双方必须在彼此间建立一条连接。所谓的“连接”，其实是客户端和服务器的内存里保存的一份关于对方的信息，如ip地址、端口号等。



**“三次握手与四次挥手”**











































